{"version":3,"sources":["components/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","utils/pixabayAPI.js","components/Searchbar/index.js","components/ImageGalleryItem/index.js","components/ImageGallery/index.js","components/Button/index.js","components/Loader/index.js","components/Lightbox/index.js","components/App.js","utils/normalize.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Lightbox/Lightbox.module.css"],"names":["module","exports","searchQuery","page","API_URL","fetch","then","resp","json","hits","Searchbar","props","className","styles","SearchForm","onSubmit","submitHandler","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","name","ImageGalleryItem","imageObj","webformatURL","largeImageURL","clickHandler","src","alt","ImageGalleryItemImage","onClick","data-full","ImageGallery","images","map","image","key","id","onImageClickHandler","Button","handler","LoaderComp","Loader","color","height","width","timeout","React","Component","Lightbox","window","addEventListener","this","closeEsc","removeEventListener","Overlay","onBackDropClick","Modal","imageUrl","App","state","loading","overlay","overlayImg","searchFormHandler","event","preventDefault","target","elements","query","value","setState","onLoadMoreBtnHandler","prevState","toggleLoadingState","fullSizeUrl","dataset","full","hideSpinner","onEscClickHandler","code","onBackDropClickHandler","currentTarget","prevProps","getImages","scrollTo","top","document","documentElement","scrollHeight","behavior","pixabayAPI","imagesArr","normalizedImagesArr","img","intervalId","setInterval","readyState","clearInterval","data-lay","length","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.c5af27d4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1pJxV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__160Ej\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1k58L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__2eVRG\"};","const API_KEY = \"18005645-026721a3bcbfec7c434912a10\";\r\n\r\nexport default {\r\n    fetchImages(searchQuery, page) {\r\n        const API_URL = `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n        return fetch(API_URL)\r\n            .then((resp) => resp.json())\r\n            .then((resp) => resp.hits);\r\n    },\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nexport default function Searchbar(props) {\r\n    return (\r\n        <header className={styles.Searchbar}>\r\n            <form className={styles.SearchForm} onSubmit={props.submitHandler}>\r\n                <button type=\"submit\" className={styles.SearchFormButton}>\r\n                    <span className={styles.SearchFormButtonLabel}>Search</span>\r\n                </button>\r\n\r\n                <input\r\n                    className={styles.SearchFormInput}\r\n                    type=\"text\"\r\n                    autoComplete=\"off\"\r\n                    autoFocus\r\n                    placeholder=\"Search images and photos\"\r\n                    name=\"query\"\r\n                />\r\n            </form>\r\n        </header>\r\n    );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n    submitHandler: PropTypes.func.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nexport default function ImageGalleryItem(props) {\r\n    const { webformatURL, largeImageURL } = props.imageObj;\r\n    const { searchQuery, clickHandler } = props;\r\n    return (\r\n        <li className={styles.ImageGalleryItem}>\r\n            <img\r\n                src={webformatURL}\r\n                alt={searchQuery}\r\n                className={styles.ImageGalleryItemImage}\r\n                onClick={clickHandler}\r\n                data-full={largeImageURL}\r\n            />\r\n        </li>\r\n    );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n    imageObj: PropTypes.exact({\r\n        id: PropTypes.number.isRequired,\r\n        webformatURL: PropTypes.string.isRequired,\r\n        largeImageURL: PropTypes.string.isRequired,\r\n    }).isRequired,\r\n    searchQuery: PropTypes.string.isRequired,\r\n    clickHandler: PropTypes.func.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nimport ImageGalleryItem from \"../ImageGalleryItem/\";\r\n\r\nexport default function ImageGallery(props) {\r\n    return (\r\n        <ul className={styles.ImageGallery}>\r\n            {props.images.map((image) => (\r\n                <ImageGalleryItem\r\n                    key={image.id}\r\n                    imageObj={image}\r\n                    searchQuery={props.searchQuery}\r\n                    clickHandler={props.onImageClickHandler}\r\n                />\r\n            ))}\r\n        </ul>\r\n    );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n    images: PropTypes.arrayOf(\r\n        PropTypes.exact({\r\n            id: PropTypes.number.isRequired,\r\n            webformatURL: PropTypes.string.isRequired,\r\n            largeImageURL: PropTypes.string.isRequired,\r\n        })\r\n    ).isRequired,\r\n    searchQuery: PropTypes.string.isRequired,\r\n    onImageClickHandler: PropTypes.func.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nexport default function Button(props) {\r\n    return (\r\n        <button className={styles.Button} onClick={props.handler}>\r\n            Load more\r\n        </button>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport styles from \"./Loader.module.css\";\r\n\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nexport default class LoaderComp extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className={styles.Loader}>\r\n                <Loader type=\"Oval\" color=\"#3f51b5\" height={100} width={100} timeout={10000}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Lightbox.module.css\";\r\n\r\nexport default class Lightbox extends React.Component {\r\n    static propTypes = {\r\n        closeEsc: PropTypes.func.isRequired,\r\n        onBackDropClick: PropTypes.func.isRequired,\r\n        imageUrl: PropTypes.string.isRequired,\r\n    };\r\n    componentDidMount() {\r\n        window.addEventListener(\"keydown\", this.props.closeEsc);\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"keydown\", this.props.closeEsc);\r\n    }\r\n    render() {\r\n        return (\r\n            <div\r\n                className={styles.Overlay}\r\n                onClick={this.props.onBackDropClick}\r\n            >\r\n                <div className={styles.Modal}>\r\n                    <img src={this.props.imageUrl} alt=\"\" width=\"800\" />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport styles from \"./App.module.css\";\r\n\r\nimport pixabayAPI from \"../utils/pixabayAPI\";\r\nimport normalize from \"../utils/normalize\";\r\n\r\nimport Searchbar from \"./Searchbar\";\r\nimport ImageGallery from \"./ImageGallery/\";\r\nimport Button from \"./Button\";\r\nimport Loader from \"./Loader\";\r\nimport Lightbox from \"./Lightbox\";\r\n\r\nexport default class App extends React.Component {\r\n    state = {\r\n        searchQuery: \"\",\r\n        images: [],\r\n        page: 1,\r\n        loading: false,\r\n        overlay: false,\r\n        overlayImg: null,\r\n    };\r\n\r\n    searchFormHandler = (event) => {\r\n        event.preventDefault();\r\n        const searchQuery = event.target.elements.query.value;\r\n        this.setState({\r\n            searchQuery,\r\n            page: 1,\r\n            images: [],\r\n        });\r\n    };\r\n    onLoadMoreBtnHandler = () => {\r\n        this.setState((prevState) => ({\r\n            page: prevState.page + 1,\r\n        }));\r\n    };\r\n    onImageClickHandler = (event) => {\r\n        event.preventDefault();\r\n        this.toggleLoadingState();\r\n        const fullSizeUrl = event.target.dataset.full;\r\n        this.setState({\r\n            overlay: true,\r\n            overlayImg: fullSizeUrl,\r\n        });\r\n        this.hideSpinner();\r\n    };\r\n    onEscClickHandler = (event) => {\r\n        if (event.code === \"Escape\") {\r\n            this.setState({\r\n                overlay: false,\r\n            });\r\n        }\r\n    };\r\n    onBackDropClickHandler = (event) => {\r\n        if (event.target === event.currentTarget) {\r\n            this.setState({\r\n                overlay: false,\r\n            });\r\n        }\r\n    };\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevState.page !== this.state.page) {\r\n            this.getImages().then(() => {\r\n                window.scrollTo({\r\n                    top: document.documentElement.scrollHeight,\r\n                    behavior: \"smooth\",\r\n                });\r\n            });\r\n        }\r\n        if (prevState.searchQuery !== this.state.searchQuery) {\r\n            this.getImages();\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.getImages();\r\n    }\r\n    removeOverlay() {\r\n        this.setState({\r\n            overlay: false,\r\n        });\r\n    }\r\n    async getImages() {\r\n        const { page, searchQuery } = this.state;\r\n        this.toggleLoadingState();\r\n        const imagesArr = await pixabayAPI.fetchImages(searchQuery, page);\r\n        const normalizedImagesArr = imagesArr.map((img) => normalize(img));\r\n        this.setState((prevState) => ({\r\n            images: [...prevState.images, ...normalizedImagesArr],\r\n        }));\r\n        this.hideSpinner();\r\n    }\r\n    hideSpinner() {\r\n        const intervalId = setInterval(() => {\r\n            const loadingState = document.readyState;\r\n            if (loadingState === \"complete\") {\r\n                clearInterval(intervalId);\r\n                this.toggleLoadingState();\r\n            }\r\n        }, 500);\r\n    }\r\n    toggleLoadingState() {\r\n        this.setState((prevState) => ({\r\n            loading: !prevState.loading,\r\n        }));\r\n    }\r\n\r\n    render() {\r\n        const { images, loading, overlayImg, overlay } = this.state;\r\n        return (\r\n            <>\r\n                {loading && <Loader />}\r\n                {overlay && (\r\n                    <Lightbox\r\n                        imageUrl={overlayImg}\r\n                        closeEsc={this.onEscClickHandler}\r\n                        onBackDropClick={this.onBackDropClickHandler}\r\n                    />\r\n                )}\r\n                <div\r\n                    className={`${styles.App}`}\r\n                    data-lay={loading && \"semitransparent\"}\r\n                >\r\n                    <Searchbar submitHandler={this.searchFormHandler} />\r\n                    <main>\r\n                        {images.length > 0 && (\r\n                            <>\r\n                                <ImageGallery\r\n                                    images={images}\r\n                                    searchQuery={this.state.searchQuery}\r\n                                    onImageClickHandler={\r\n                                        this.onImageClickHandler\r\n                                    }\r\n                                />\r\n                                <Button handler={this.onLoadMoreBtnHandler} />\r\n                            </>\r\n                        )}\r\n                    </main>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n","export default function normalize(imageObj) {\r\n    return {\r\n        id: imageObj.id,\r\n        webformatURL: imageObj.webformatURL,\r\n        largeImageURL: imageObj.largeImageURL,\r\n    };\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport './style.css';\r\n\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.querySelector(\"#root\"));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3ccPZ\",\"SearchForm\":\"Searchbar_SearchForm__2-jR6\",\"SearchFormButton\":\"Searchbar_SearchFormButton__330dv\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__We__0\",\"SearchFormInput\":\"Searchbar_SearchFormInput__zbIRd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3hj5j\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__b3pk2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Lightbox_Overlay__1l2UI\",\"Modal\":\"Lightbox_Modal__1ijea\"};"],"sourceRoot":""}